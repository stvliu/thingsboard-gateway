{
    "name": "MU4801",
    "type": "serial",
    "port": "/dev/ttyS0",
    "baudrate": 9600,
    "timeout": 1000,
    "bytesize": 8,
    "parity": "N",
    "stopbits": 1,  
    "pollInterval": 1000,
    "reconnectInterval": 10000,
    "commandTimeout": 500,
    "maxCommandAttempts": 3,
    "logLevel": "DEBUG",
    
    "devices": [
      {
        "name": "MU4801_DEFAULT",
  
        "attributes": [
          {
            "key": "address",
            "command": "0x50"
          },
          {
            "key": "manufacturer",
            "command": "0x51",
            "startPos": 12,
            "length": 20,
            "dataType": "string"  
          },
          {
            "key": "model",
            "command": "0x51", 
            "startPos": 0,
            "length": 10,
            "dataType": "string"
          },
          {
            "key": "hardwareVersion",
            "command": "0x51",
            "startPos": 10,
            "length": 2,
            "dataType": "bcd"
          }
        ],
        
        "timeseries": [
          {
            "key": "acVolts",
            "command": "0x41",
            "values": [
              {
                "key": "a",
                "dataType": "float",
                "startPos": 5
              },
              {
                "key": "b", 
                "dataType": "float",
                "startPos": 9
              },
              {  
                "key": "c",
                "dataType": "float",
                "startPos": 13
              }
            ]  
          },
          {
            "key": "acFrequency",
            "command": "0x41",
            "values": [
              {
                "key": "frequency",
                "dataType": "float",
                "startPos": 17    
              }
            ]
          },
          {
            "key": "dcVoltage",
            "command": "0x42",
            "values": [
              {
                "key": "volts",
                "dataType": "float", 
                "startPos": 5
              }
            ]  
          },
          {
            "key": "dcCurrent",
            "command": "0x42", 
            "values": [
              {
                "key": "total",
                "dataType": "float",
                "startPos": 9
              },
              {
                "key": "battery1",
                "dataType": "float", 
                "startPos": 14
              }
            ]
          },
          {
            "key": "dcPower",
            "command": "0x42",
            "values": [
              {
                "key": "total", 
                "dataType": "float",
                "startPos": 211
              }
            ]
          },
          {
            "key": "dcEnergy",
            "command": "0x42",
            "values": [
              {
                "key": "total",
                "dataType": "float",
                "startPos": 215    
              }
            ]
          },
          {
            "key": "batteryCapacity",
            "command": "0x42", 
            "values": [  
              {
                "key": "battery1",
                "dataType": "float",
                "startPos": 30
              }
            ]
          },
          {
            "key": "temperatures",
            "command": "0x42",
            "values": [
              {
                "key": "t1",
                "dataType": "float",
                "startPos": 163
              },
              {
                "key": "t2",
                "dataType": "float", 
                "startPos": 167  
              }
            ]
          },
          {  
            "key": "humidity",
            "command": "0x42",
            "values": [
              {  
                "key": "h1", 
                "dataType": "float",
                "startPos": 171
              }
            ]
          },
          {
            "key": "acAlarms",
            "command": "0x44",
            "values": [
              {
                "key": "overVoltageA",
                "dataType": "boolean",
                "startPos": 5,
                "booleanMap": {
                  "0": false,
                  "2": true
                }
              },
              {
                "key": "underVoltageA",
                "dataType": "boolean",
                "startPos": 5,
                "booleanMap": {
                  "0": false,
                  "1": true
                }
              },
              {
                "key": "overVoltageB", 
                "dataType": "boolean",
                "startPos": 6,
                "booleanMap": {
                  "0": false, 
                  "2": true
                }
              },
              {
                "key": "underVoltageB",
                "dataType": "boolean", 
                "startPos": 6,
                "booleanMap": {
                  "0": false,
                  "1": true  
                }
              },
              {
                "key": "overVoltageC",
                "dataType": "boolean", 
                "startPos": 7,
                "booleanMap": {
                  "0": false,
                  "2": true
                }  
              },
              {
                "key": "underVoltageC",
                "dataType": "boolean",
                "startPos": 7, 
                "booleanMap": {
                  "0": false,
                  "1": true
                }
              },
              {
                "key": "surgeProtection",
                "dataType": "boolean",
                "startPos": -7,
                "booleanMap": {
                  "0": false, 
                  "0x81": true
                }
              },
              { 
                "key": "powerDown",
                "dataType": "boolean",
                "startPos": -5,
                "booleanMap": {
                  "0": false,
                  "0x84": true  
                }
              }
            ]
          },
          {
            "key": "dcAlarms",
            "command": "0x44",
            "values": [
              {
                "key": "overVoltage",
                "dataType": "boolean", 
                "startPos": 4,
                "booleanMap": { 
                  "0": false,
                  "2": true
                }
              },
              {
                "key": "underVoltage",
                "dataType": "boolean",
                "startPos": 4, 
                "booleanMap": {
                  "0": false,
                  "1": true 
                }
              },
              {
                "key": "batteryOverTemp",
                "dataType": "boolean",
                "startPos": -24,
                "booleanMap": {
                  "0": false,
                  "0xb0": true
                }
              },
              {
                "key": "batteryUnderTemp",
                "dataType": "boolean",
                "startPos": -24,
                "booleanMap": {
                  "0": false, 
                  "0xb1": true
                }  
              },
              {
                "key": "envOverTemp",
                "dataType": "boolean",
                "startPos": -21,
                "booleanMap": {
                  "0": false,
                  "0xbe": true
                }
              },
              {
                "key": "envUnderTemp",
                "dataType": "boolean",
                "startPos": -21,
                "booleanMap": {
                  "0": false,
                  "0xbf": true  
                }
              },
              {  
                "key": "envOverHumidity",
                "dataType": "boolean", 
                "startPos": -18,
                "booleanMap": {
                  "0": false,
                  "0xc6": true
                }
              },
              {
                "key": "envUnderHumidity", 
                "dataType": "boolean",
                "startPos": -18,
                "booleanMap": {  
                  "0": false,
                  "0xc7": true
                }
              }
            ]
          }
        ],
        
        "attribute_updates": [
          {
            "attributeOnThingsBoard": "acVoltageUpperLimit",
            "command": "0x48",  
            "dataType": "float",
            "startPos": 0
          },  
          {
            "attributeOnThingsBoard": "acVoltageLowerLimit", 
            "command": "0x48",
            "dataType": "float",
            "startPos": 4
          },
          {
            "attributeOnThingsBoard": "batteryCapacityAH",
            "command": "0x48",
            "dataType": "float",
            "startPos": 158  
          },
          {
            "attributeOnThingsBoard": "batteryOverTemp",
            "command": "0x48", 
            "dataType": "float",
            "startPos": 130
          },
          {
            "attributeOnThingsBoard": "batteryUnderTemp",
            "command": "0x48",
            "dataType": "float", 
            "startPos": 134
          }
        ],
        
        "server_side_rpc": [
          {
            "method": "setDcVoltageLimit",
            "command": "0x48", 
            "params": {
              "upperLimit": "float",
              "lowerLimit": "float"  
            },
            "frame_template": [  
              {
                "name": "upperLimit",
                "dataType": "float",
                "startPos": 0
              },
              {
                "name": "lowerLimit",
                "dataType": "float",
                "startPos": 4
              }
            ]
          },
          {
            "method": "setAcVoltageLimit",
            "command": "0x48",
            "params": {
              "upperLimit": "float",
              "lowerLimit": "float"
            },
            "frame_template": [
              {
                "name": "upperLimit", 
                "dataType": "float",
                "startPos": 0
              },
              {
                "name": "lowerLimit",
                "dataType": "float",
                "startPos": 4
              }
            ]  
          },
          {  
            "method": "setEqualizedCharge",
            "command": "0x48",
            "params": {
              "enable": "boolean", 
              "interval": "uint16",
              "duration": "uint8" 
            },
            "frame_template": [
              {
                "name": "enable",
                "dataType": "uint8",
                "startPos": 12,  
                "booleanMap": {
                  "true": 1,
                  "false": 0
                }  
              },
              {
                "name": "interval",
                "dataType": "uint16", 
                "startPos": 22
              },  
              {
                "name": "duration",
                "dataType": "uint8",
                "startPos": 21
              }
            ] 
          },
          {
            "method": "setBatteryCapacity",
            "command": "0x48",
            "params": {
              "capacityAH": "float"  
            },
            "frame_template": [
              {
                "name": "capacityAH",
                "dataType": "float", 
                "startPos": 158
              }
            ]
          },
          {
            "method": "setBatteryTempLimit",
            "command": "0x48", 
            "params": {
              "overTemp": "float",
              "underTemp": "float"
            },
            "frame_template": [
              {
                "name": "overTemp",
                "dataType": "float",
                "startPos": 130
              },
              {
                "name": "underTemp",
                "dataType": "float",
                "startPos": 134
              }
            ]
          },
          {
            "method": "setEnvTempLimit",
            "command": "0x48",
            "params": {
              "overTemp": "float", 
              "underTemp": "float"
            },
            "frame_template": [
              {
                "name": "overTemp",
                "dataType": "float",
                "startPos": 138
              },
              {  
                "name": "underTemp",
                "dataType": "float",
                "startPos": 142
              }
            ]
          },
          {
            "method": "setEnvHumidityLimit",
            "command": "0x48", 
            "params": {
              "overHumidity": "float",
              "underHumidity": "float"
            },
            "frame_template": [
              {  
                "name": "overHumidity",
                "dataType": "float",
                "startPos": 146
              },
              {
                "name": "underHumidity",
                "dataType": "float", 
                "startPos": 150
              }
            ]
          },
          {
            "method": "setBatteryVoltageLimit",  
            "command": "0x48",
            "params": {
              "lvdVoltage": "float",
              "lvrVoltage": "float"  
            },
            "frame_template": [
              {
                "name": "lvdVoltage",
                "dataType": "float",
                "startPos": 150
              },
              {
                "name": "lvrVoltage",
                "dataType": "float",
                "startPos": 154
              }  
            ]  
          }
        ]
      }
    ]
  }
  